function fca_ept_url_modal(t){var e=!0===t.attributes.showURLModal,o=window.wp,i=o.element.createElement,s=JSON.parse(t.attributes.columnSettings),n=t.attributes.selectedCol,a=!!(t.attributes.togglePeriod&&s[n].wooProductID2||!t.attributes.togglePeriod&&s[n].wooProductID1);return e?i(o.components.Modal,{title:"Call to Action - Column "+(n+1),isDismissible:!1,shouldCloseOnClickOutside:!0,onRequestClose:function(e){t.setAttributes({showURLModal:!1})}},i(o.components.TextControl,{value:s[n].buttonText,label:"Button Text",onChange:function(e){var o=JSON.parse(t.attributes.columnSettings);o[t.attributes.selectedCol].buttonText=e,t.setAttributes({columnSettings:JSON.stringify(o)})}}),i(o.components.TextControl,{disabled:a,value:fca_ept_get_buttonurl(t,n),label:"URL",onChange:function(e){var o=JSON.parse(t.attributes.columnSettings);t.attributes.togglePeriod?o[n].buttonURL2=e:o[n].buttonURL1=e,t.setAttributes({columnSettings:JSON.stringify(o)})}})):null}function fca_ept_confirm_modal(t){var e=!0===t.attributes.showConfirmModal,o=t.attributes.selectedCol,i=window.wp,s=i.element.createElement,n="Remove column "+(Number(o)+1)+"?";return e?s(i.components.Modal,{title:n,isDismissible:!1,shouldCloseOnClickOutside:!0,onRequestClose:function(e){t.setAttributes({showConfirmModal:!1})}},s(i.components.Button,{variant:"primary",style:{marginRight:"12px"},onClick:function(){fca_ept_del_column(t),t.setAttributes({showConfirmModal:!1})}},"Confirm"),s(i.components.Button,{variant:"secondary",onClick:function(){t.setAttributes({showConfirmModal:!1})}},"Cancel")):null}function fca_ept_update_planimage(t,e){var o=JSON.parse(t.attributes.columnSettings);o[t.attributes.selectedCol].planImage=e,t.setAttributes({columnSettings:JSON.stringify(o)})}function fca_ept_update_plantext(t,e){var o=JSON.parse(t.attributes.columnSettings),i=t.attributes.selectedCol;t.attributes.togglePeriod&&t.attributes.togglePeriodToggle?woo_products&&o[i].wooProductID2?o[i].useCustomWooTitle2=e:o[i].planText2=e:woo_products&&o[i].wooProductID1?o[i].useCustomWooTitle1=e:o[i].planText1=e,t.setAttributes({columnSettings:JSON.stringify(o)})}function fca_ept_update_pricetext(t,e){var o=JSON.parse(t.attributes.columnSettings),i=t.attributes.selectedCol;t.attributes.togglePeriod&&t.attributes.togglePeriodToggle?o[i].priceText2=e:o[i].priceText1=e,t.setAttributes({columnSettings:JSON.stringify(o)})}function fca_ept_update_buttontext(t,e){var o=JSON.parse(t.attributes.columnSettings);o[t.attributes.selectedCol].buttonText=e,t.setAttributes({columnSettings:JSON.stringify(o)})}function fca_ept_update_priceperiod(t,e){var o=JSON.parse(t.attributes.columnSettings),i=t.attributes.selectedCol;t.attributes.togglePeriod?o[i].pricePeriod2=e:o[i].pricePeriod1=e,t.setAttributes({columnSettings:JSON.stringify(o)})}function fca_ept_handle_cta_button_click(t){t.setAttributes({selectedSection:"button"}),t.setAttributes({showURLModal:!0})}function fca_ept_handle_image_heights_toggle(t,e){for(var o="#fca-ept-table-"+t.attributes.tableID,i=document.querySelectorAll(o+" .fca-ept-plan-image img"),s=0;s<i.length;s++)i[s].style.maxHeight="none";if(e){for(var n=i[0].offsetHeight,s=0;s<i.length;s++)i[s].offsetHeight<n&&(n=i[s].offsetHeight);for(s=0;s<i.length;s++)i[s].style.maxHeight=n+"px"}t.setAttributes({matchHeightsToggle:e})}function fca_ept_get_planImage(t,e){fcaEptEditorData.toggle_integration&&fca_ept_get_toggle_planImage(t,e);return JSON.parse(t.attributes.columnSettings)[e].planImage}function fca_ept_get_buttonurl(t,e){if(fcaEptEditorData.toggle_integration)return fca_ept_get_toggle_buttonurl(t,e);return JSON.parse(t.attributes.columnSettings)[e].buttonURL1}function fca_ept_update_featurestext(t,e){var o=JSON.parse(t.attributes.columnSettings);o[t.attributes.selectedCol].featuresText=e,t.setAttributes({columnSettings:JSON.stringify(o)})}function fca_ept_update_populartext(t,e){var o=JSON.parse(t.attributes.columnSettings);o[t.attributes.selectedCol].popularText=e,t.setAttributes({columnSettings:JSON.stringify(o)})}function fca_ept_get_plantext(t,e){if(fcaEptEditorData.toggle_integration)return fca_ept_get_toggle_plantext(t,e);return JSON.parse(t.attributes.columnSettings)[e].planText1}function fca_ept_get_pricetext(t,e){if(fcaEptEditorData.toggle_integration)return fca_ept_get_toggle_pricetext(t,e);return JSON.parse(t.attributes.columnSettings)[e].priceText1}function fca_ept_column_class_name(t,e){var o="fca-ept-column";return JSON.parse(t.attributes.columnSettings)[e].columnPopular&&(o+=" fca-ept-most-popular"),t.attributes.selectedCol===e&&(o+=" fca-ept-selected-column"),o}function fca_ept_update_ui_state(t,e){var o=window.getSelection(),i="";o.rangeCount>0&&(i=o.getRangeAt(0)),t.setAttributes({selectedSection:e}),t.setAttributes({showIconDropdown:!1}),t.setAttributes({selectedRange:i}),fca_ept_is_tooltip_selected(i)&&(t.setAttributes({showTooltipModal:!0}),t.setAttributes({tooltipModalText:i.startContainer.parentElement.dataset.tooltip}))}function fca_ept_is_tooltip_selected(t){if(t){var e=t.endOffset-t.startOffset==1;if("fca-ept-tooltip"===t.startContainer.parentElement.className&&e)return!0}return!1}function fca_ept_maybe_set_defaults(t){t.setAttributes({showLayoutPickerScreen:!1}),t.setAttributes({showIconDropdown:!1}),""==t.attributes.tableID&&t.setAttributes({tableID:fca_ept_generate_id()});var e=document.getElementById(t.attributes.tableID);e&&e.remove(),""==t.attributes.columnSettings&&t.setAttributes({columnSettings:JSON.stringify(fca_ept_default_columnSettings())}),void 0===t.attributes.showButtonsToggle&&t.setAttributes({showButtonsToggle:!0}),void 0===t.attributes.showPriceSubtextToggle&&t.setAttributes({showPriceSubtextToggle:!0}),void 0===t.attributes.showPlanSubtextToggle&&t.setAttributes({showPlanSubtextToggle:!0}),void 0===t.attributes.align&&fcaEptEditorData.theme_support.wide&&t.setAttributes({align:"wide"})}function fca_ept_reusable_block_init(){if(1!=fca_ept_init_completed){var t=wp.data.select("core/editor").getCurrentPost();if("wp_block"===t.type&&t.content.split("\x3c!--")[1].includes("wp:fatcatapps/easy-pricing-table")){var e=document.querySelectorAll(".edit-post-header a");console.log(e),e.length&&(e[0].href=fcaEptEditorData.edit_url+"?post_type=easy-pricing-table&page=ept3-list");var o=wp.data.select("core/block-editor").getBlocks().filter(function(t){return"fatcatapps/easy-pricing-tables"===t.name});wp.data.subscribe(function(){wp.data.select("core/block-editor").getBlocks().filter(function(t){return"fatcatapps/easy-pricing-tables"===t.name}).length<o.length&&wp.data.dispatch("core/block-editor").resetBlocks(o);var t=wp.data.select("core/editor").isSavingPost(),e=wp.data.select("core/editor").isAutosavingPost();if(t&&!e){wp.data.select("core/notices").getNotices().filter(function(t,e){return"fcaEptSuccessNotice"===t.id}).length||wp.data.dispatch("core/notices").createNotice("success",'Pricing Table saved successfully! Your shortcode: [ept3-block id="'+wp.data.select("core/editor").getCurrentPost().id+'"]',{id:"fcaEptSuccessNotice",isDismissible:!0,actions:[{onClick:function(){window.open("https://fatcatapps.com/knowledge-base/how-to-create-your-first-pricing-table/","_blank")},label:"Need help publishing your new block?"}]})}})}return fca_ept_init_completed=1,console.log("fca_ept_init completed"),fca_ept_init_completed}}function fca_ept_generate_id(){return"xxxx".replace(/[x]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}function fca_ept_hexToRGB(t,e,o){if(!t)return"rgb(255,255,255)";if(7===t.length)var i=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16);if(4===t.length)var i=parseInt(t.slice(1,2)+t.slice(1,2),16),s=parseInt(t.slice(2,3)+t.slice(2,3),16),n=parseInt(t.slice(3,4)+t.slice(3,4),16);return e?"rgba("+i+","+s+","+n+","+e+")":o?(i-o>0?i-=o:i=0,s-o>0?s-=o:s=0,n-o>0?n-=o:n=0,"rgb("+i+","+s+","+n+")"):void 0}var fca_ept_init_completed=0,fca_ept_allowed_formats=["core/bold","core/italic","core/link","core/image","core/strikethrough","core/text-color"];